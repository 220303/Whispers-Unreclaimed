<Page
    x:Class="烟尘记.Pause"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:烟尘记"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Pause"
    d:DesignHeight="450"
    d:DesignWidth="800"
    Background="Black"
    Focusable="True"
    Foreground="{x:Null}"
    KeyDown="Page_KeyDown"
    Tag="game"
    mc:Ignorable="d">

    <Page.Resources>

        <!-- 蓝色主题颜色资源 -->
        <Color x:Key="BorderColor">#0D3B66</Color>
        <Color x:Key="GlowColor">#FF83C2FD</Color>
        <Color x:Key="TextColor">White</Color>
        <Color x:Key="TextHoverColor">#00B4D8</Color>
        <Color x:Key="TextShadowColor">#90E0EF</Color>
        <Color x:Key="PressedBorderColor">#0077B6</Color>
        <Color x:Key="BackgroundColor">Black</Color>

        <!-- 蓝色主题画刷资源 -->
        <SolidColorBrush x:Key="BorderBrush" Color="{StaticResource BorderColor}"/>
        <SolidColorBrush x:Key="TextBrush" Color="{StaticResource TextColor}"/>
        <SolidColorBrush x:Key="PressedBorderBrush" Color="{StaticResource PressedBorderColor}"/>
        <SolidColorBrush x:Key="BackgroundBrush" Color="{StaticResource BackgroundColor}"/>


        <!--  魔法按钮样式  -->
        <Style TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <!--  背景层 - 增强光晕  -->
                            <Border
                                x:Name="BackgroundBorder"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{StaticResource BorderBrush}"
                                BorderThickness="2"
                                CornerRadius="4">
                                <Border.Effect>
                                    <DropShadowEffect
                                        x:Name="BorderGlow"
                                        BlurRadius="0"
                                        Opacity="0"
                                        ShadowDepth="0"
                                        Color="{StaticResource GlowColor}" />
                                </Border.Effect>
                            </Border>

                            <!--  内容层  -->
                            <Grid>

                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*" />
                                    <ColumnDefinition Width="4*" />
                                    <ColumnDefinition Width="1*" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*" />
                                    <RowDefinition Height="4*" />
                                    <RowDefinition Height="1*" />
                                </Grid.RowDefinitions>

                                <Viewbox
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Stretch"
                                    Stretch="Uniform">
                                    <TextBlock
                                        x:Name="ButtonText"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Effect="{x:Null}"
                                        FontFamily="Palatino Linotype"
                                        FontSize="18"
                                        FontWeight="Bold"
                                        Foreground="{StaticResource TextBrush}"
                                        Text="{TemplateBinding Content}" />
                                </Viewbox>

                            </Grid>

                            <!--  粒子效果层  -->
                            <Canvas x:Name="ParticleCanvas" IsHitTestVisible="False" />

                        </Grid>

                        <ControlTemplate.Triggers>
                            <!--  鼠标悬停动画  -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ColorAnimation
                                                Storyboard.TargetName="ButtonText"
                                                Storyboard.TargetProperty="Foreground.Color"
                                                To="{StaticResource TextHoverColor}"
                                                Duration="0:0:0.5" />
                                            <DoubleAnimation
                                                Storyboard.TargetName="BorderGlow"
                                                Storyboard.TargetProperty="BlurRadius"
                                                To="25"
                                                Duration="0:0:0.5" />
                                            <DoubleAnimation
                                                Storyboard.TargetName="BorderGlow"
                                                Storyboard.TargetProperty="Opacity"
                                                To="1.0"
                                                Duration="0:0:0.5" />
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonText" Storyboard.TargetProperty="Effect">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Null}" />
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0.5">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <DropShadowEffect
                                                            BlurRadius="12"
                                                            Opacity="0.8"
                                                            ShadowDepth="0"
                                                            Color="{StaticResource TextShadowColor}" />
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>

                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ColorAnimation
                                                Storyboard.TargetName="ButtonText"
                                                Storyboard.TargetProperty="Foreground.Color"
                                                To="{StaticResource TextColor}"
                                                Duration="0:0:1" />
                                            <DoubleAnimation
                                                Storyboard.TargetName="BorderGlow"
                                                Storyboard.TargetProperty="BlurRadius"
                                                To="0"
                                                Duration="0:0:1" />
                                            <DoubleAnimation
                                                Storyboard.TargetName="BorderGlow"
                                                Storyboard.TargetProperty="Opacity"
                                                To="0"
                                                Duration="0:0:1" />
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ButtonText" Storyboard.TargetProperty="Effect">
                                                <DiscreteObjectKeyFrame KeyTime="0:0:0">
                                                    <DiscreteObjectKeyFrame.Value>
                                                        <DropShadowEffect
                                                            BlurRadius="12"
                                                            Opacity="0.8"
                                                            ShadowDepth="0"
                                                            Color="{StaticResource TextShadowColor}" />
                                                    </DiscreteObjectKeyFrame.Value>
                                                </DiscreteObjectKeyFrame>
                                                <DiscreteObjectKeyFrame KeyTime="0:0:1" Value="{x:Null}" />
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>

                            <!--  按下效果  -->
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="BackgroundBorder" Property="BorderBrush" Value="{StaticResource PressedBorderBrush}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

            <Setter Property="Background" Value="{StaticResource BackgroundBrush}" />
            <Setter Property="Padding" Value="15,8" />
            <Setter Property="TextElement.Foreground" Value="{StaticResource TextBrush}" />
        </Style>

    </Page.Resources>

    <Grid x:Name="Total_grid">

        <!--  自定义控件用于绘制边框  -->
        <local:MagicCornerBorder_Rebillion_qoutes
            x:Name="Border_drawer"
            Background="Transparent"
            IsHitTestVisible="False" />

        <Grid x:Name="Content_grid">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.8*" />
                <ColumnDefinition Width="0.8*" />
                <ColumnDefinition Width="1*" />
                <ColumnDefinition Width="0.8*" />
                <ColumnDefinition Width="1*" />
            </Grid.ColumnDefinitions>

            <Grid.RowDefinitions>
                <RowDefinition Height="3*" />
                <RowDefinition Height="1.5*" />
                <RowDefinition Height="1*" />
                <RowDefinition Height="1.5*" />
                <RowDefinition Height="1*" />
                <RowDefinition Height="1.5*" />
                <RowDefinition Height="3*" />
            </Grid.RowDefinitions>

            <Button
                Name="Save"
                Grid.Row="3"
                Grid.Column="1"
                Click="Save_Click"
                Content="保存" />
            <Button
                Name="Quit"
                Grid.Row="5"
                Grid.Column="3"
                Click="Quit_Click"
                Content="退出" />
            <Button
                Name="Quit_to_Start"
                Grid.Row="1"
                Grid.Column="3"
                Click="Quit_to_Start_Click"
                Content="退出到开始界面" />

        </Grid>
    </Grid>

</Page>
